
### 替换html源码中的相对路径
	// 进行url解析
	$webUrl = "http://www.jb51.net/article/42457.htm";
    $urlArr = parse_url($webUrl);
	$siteUrl = "http://".$urlArr['host']."/";	
	
	// 替换str中的相对路径为url
	function strReplace($url,$str) {
	    preg_match_all('/<link .*?href="(.*?)".*?>/is', $str, $linksArr, PREG_SET_ORDER);
	    $linksUniq = array();
	    foreach ($linksArr as $key => $item) {
	        $uri = $item[1];
	        if (in_array($uri, $linksUniq)) {
	            continue;
	        } else {
	            $linksUniq[] = $uri;
	        }
	        if (strpos($uri, "http") !== false || strpos($uri, "com") !== false ) {
	            continue;
	        }
	        $urlAll = $url.ltrim($uri, "/");
	        $str = str_replace($uri, $urlAll, $str);
	    }
	     
	    preg_match_all('/<script .*?src="(.*?)".*?>/is', $str, $linksArr, PREG_SET_ORDER);
	    $linksUniq = array();
	    foreach ($linksArr as $key => $item) {
	        $uri = $item[1];
	        if (in_array($uri, $linksUniq)) {
	            continue;
	        } else {
	            $linksUniq[] = $uri;
	        }
	        if (strpos($uri, "http") !== false || strpos($uri, "com") !== false ) {
	            continue;
	        }
	        $urlAll = $url.ltrim($uri, "/");
	        $str = str_replace($uri, $urlAll, $str);
	    }
	    
	    preg_match_all('/<img .*?src="(.*?)".*?>/is', $str, $linksArr, PREG_SET_ORDER);
	    $linksUniq = array();
	    foreach ($linksArr as $key => $item) {
	        $uri = $item[1];
	        if (in_array($uri, $linksUniq)) {
	            continue;
	        } else {
	            $linksUniq[] = $uri;
	        }
	        if (strpos($uri, "http") !== false || strpos($uri, "com") !== false ) {
	            continue;
	        }
	        $urlAll = $url.ltrim($uri, "/");
	        $str = str_replace($uri, $urlAll, $str);
	    }
	    return $str;
	}
	function curl_get_file_contents($url, $ua) {
	    $curl = curl_init();
	    curl_setopt($curl, CURLOPT_URL, $url);
	    curl_setopt($curl, CURLOPT_HEADER, 1);  //0表示不输出Header，1表示输出
	    curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);
	    curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);
	    curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, false);
	    curl_setopt($curl, CURLOPT_ENCODING, '');
	    curl_setopt($curl, CURLOPT_USERAGENT, $ua);
	    curl_setopt($curl, CURLOPT_FOLLOWLOCATION, 1);
	    $contents = curl_exec($curl);
	    curl_close($curl);
	    $cont_encoding = mb_detect_encoding($contents);
	    if ($contents) {
	        $contents = mb_convert_encoding($contents, 'utf-8', 'GBK,UTF-8,ASCII');
	        return $contents;
	    } else {
	        return false;
	    }
	}

### 联动啥来着，jquery实现动态下拉框，cxselect

将接口数据格式修改成jquery能接受的格式，在cxselect指定文件格式，进行联动的那个啥。

自定义，就是将对应关系指明给cxselect，然后自动解析出对应的格式返回给前端。

PS: 自定义数据时，虽然值可以设置为除了文本以外的类型，但最终都会被转化为文本。

    $('#custom_data').cxSelect({ 
      selects: ['first', 'second'], 
      jsonName: 'name', 
      jsonValue: 'value', 
      jsonSub: 'sub', 
      url: [ 
        {name:'A', value: '1', sub: [ 
          {name: 'A-1', value: '2', sub: [ 
            {name: 'A-1-1', value: '11'} 
            // more.. 
          ]} 
          {name: 'A-2', value: '3', sub: [ 
            {name: 'A-2-1', value: '34'} 
          ]} 
          // more.. 
        ]}, 
        {name:'B', value: '5', sub: [ 
          {name: 'B-1', value: '8', sub: [ 
            {name: 'B-1-1', value: '16'} 
          ]} 
        ]} 
        // more.. 
      ] 
    });


收获：本月主要做了律师这边的财务系统，优惠码系统，以及一些小需求，通用后台的lp证据平台，以及截图服务的脚本和截图服务数据统计，通过财务系统的开发，对于律师业务流程更加了解，对于代码的结构理解加深和开发经验增长，在通用后台的开发中，接触了新的项目，在开发中对比律师项目，加深了对yii框架的理解，对于开发过程更加透彻，进行了数据库的发单上线，学习了部门的数据库上线流程。
不足：开发过程中由于多次升级和多次开发，回归测试没有进行完全，导致了bug的产生，需要加强对自己代码的责任感，修改后进行足够的回归测试。